<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
<link rel="stylesheet" type="text/css" href="/static/css/add_purchase.css">
</head>

<body>
    <button class="btn purchases" onclick="location.href='http://inherentvice.pythonanywhere.com/site/purchases'">Purchases</button>
    <button class="btn budgets" onclick="location.href='http://inherentvice.pythonanywhere.com/site/budgets'">Budgets</button>
    <button class="btn add_purchase" onclick="location.href='http://inherentvice.pythonanywhere.com/site/add_purchase'">Add Purchase</button>
    <button class="btn add_budget" onclick="location.href='http://inherentvice.pythonanywhere.com/site/add_budget'">Add Budget</button>

<form>
    {% if purchase != None %}

        Item: <input type="text" id="itemTextBoxU" name="item" value="{{purchase.item}}"><br>
        Price: <input type="text" id="priceTextBoxU" name="price" value="{{purchase.price}}"><br>
        <!--Category: <input type="text" id="categoryTextBoxU" name="category" value="{{purchase.category}}"><br>-->
        <select id="mySelectCategoryU">
            {% for budget in budgets %}
                {% if budget.category ==  purchase.category %}
                    <option selected value="{{budget.category}}">{{budget.category}}</option>
                {% else %}
                    <option value="{{budget.category}}">{{budget.category}}</option>
                {% endif %}
            {% endfor %}
        </select><br>
        Date: <input type="text" id="dateTextBoxU" name="date" value="{{purchase.date}}"><br>

        {% if purchase.note != None %}
            Note: <input type="text" id="noteTextBoxU" name="note" value="{{purchase.note}}"><br>
        {% else %}
            Note: <input type="text" id="noteTextBoxU" name="note" value=""><br>
        {% endif %}

        Passcode: <input type="text" id="passcodeTextBoxU" name="passcode" value=""><br>

        <button id="{{purchase.purchase_id}}" onclick="updatePurchase(this.id)">Update</button>
        <p>Click the "Update" button to update the purchase.</p>


    {% else %}
        Item: <input type="text" id="itemTextBox" name="item" value=""><br>
        Price: <input type="text" id="priceTextBox" name="price" value=""><br>
        <!--Category: <input type="text" id="categoryTextBox" name="category" value=""><br>-->
        Category:
        <select id="mySelectCategory">
            {% for budget in budgets %}
                <option value="{{budget.category}}">{{budget.category}}</option>
            {% endfor %}
        </select><br>
        Date: <input type="text" id="dateTextBox" name="date" placeholder="2019-02-01 00:00:00" value=""><br>
        Note: <input type="text" id="noteTextBox" name="note" value=""><br>
        Passcode: <input type="text" id="passcodeTextBox" name="passcode" value=""><br>
        <button onclick="addPurchase()">Insert</button>

        <p>Click the "Insert" button to insert the purchase.</p>

    {% endif %}


</form>

<script src="/static/js/addPurchase.js"></script>

</body>

</html>