


<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<head>
    <link rel="stylesheet" type="text/css" href="/static/css/budgets.css">
    <script type="text/javascript">
    var prefix = "{{ prefix }}"
    </script>
</head>

<body>
    <button class="btn timeline" onclick="location.href='{{prefix}}/site/timeline'">Timeline</button>
    <button class="btn transactions" onclick="location.href='{{prefix}}/site/transactions'">Transaction</button>
    <button class="btn budgets" onclick="location.href='{{prefix}}/site/budgets'">Budgets</button>
    <button class="btn add_transaction" onclick="location.href='{{prefix}}/site/add_transaction'">Add Transaction</button>
    <button class="btn add_budget" onclick="location.href='{{prefix}}/site/add_budget'">Add Budget</button>

<h2>Budgets for {{month}}/{{year}}</h2>
<h3>Total Spent for {{month}}/{{year}}: ${{spent_in_month}} &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Income for {{month}}/{{year}}: ${{month_income}}</h3>
<h3>Total Spent for {{year}}: ${{spent_in_year}} &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Income for {{year}}: ${{year_income}}</h3>

<p>
    <br />
</p>

<h2>Month Budgets</h2>
<table class="a">
  <tr>
    <th>Category <i>(click to edit)</i></th>
    <th>Spent Month</th>
    <th>Spent Year</th>
    <th>Budgeted</th>
    <th>Remaining Month</th>
  </tr>
  {% for budget_info in month_budgets %}
    <tr>
        <td><p><button class="btnSmall select" id="{{budget_info.budget.budget_id}}" onclick="openUpdatePage(this.id)"><b><u>{{ budget_info.budget.category.name }}</u></b></button></p></td>
        <td><button class="btnSmall select" id="month_year#{{budget_info.budget.category.name}}#{{month}}#{{year}}" onclick="openPurhcasesPage(this.id)"><u>${{ budget_info.spent_so_far_month }}</u></button></td>
        <td><button class="btnSmall select" id="year#{{budget_info.budget.category.name}}#{{year}}" onclick="openPurhcasesPage(this.id)"><u>${{budget_info.spent_so_far_year }}</u></button></td>
        <td>${{ budget_info.budget.amount }}</td>
        {% if budget_info.percent_month >=  0.0 and budget_info.percent_month <  0.85 %}
            <td><font color="green">${{ budget_info.remaining_month }}</font></td>
        {% else %}
            {% if budget_info.percent_month >= 0.85 and  budget_info.percent_month < 0.99 %}
                <td><font color="orange">${{ budget_info.remaining_month }}</font></td>
            {% else %}
                {% if budget_info.percent_month >= 0.99 and  budget_info.percent_month <= 1.00 %}
                    <td><font color="blue">${{ budget_info.remaining_month }}</font></td>
                {% else %}
                    <td><font color="red">${{ budget_info.remaining_month }}</font></td>
                {% endif %}
            {% endif %}
        {% endif %}
    </tr>
  {% endfor %}
</table>

<p>
</p>

<h2>Year Budgets</h2>
<table class="a">
  <tr>
    <th>Category <i>(click to edit)</i></th>
    <th>Spent Month</th>
    <th>Spent Year</th>
    <th>Budgeted</th>
    <th>Remaining Year</th>
  </tr>
  {% for budget_info in year_budgets %}
    <tr>
        <td><p><button class="btnSmall select" id="{{budget_info.budget.budget_id}}" onclick="openUpdatePage(this.id)"><b><u>{{ budget_info.budget.category.name }}</u></b></button></p></td>
        <td><button class="btnSmall select" id="month_year#{{budget_info.budget.category.name}}#{{month}}#{{year}}" onclick="openPurhcasesPage(this.id)"><u>${{ budget_info.spent_so_far_month }}</u></button></td>
        <td><button class="btnSmall select" id="year#{{budget_info.budget.category.name}}#{{year}}" onclick="openPurhcasesPage(this.id)"><u>${{ budget_info.spent_so_far_year }}</u></button></td>
        <td>${{ budget_info.budget.amount }}</td>

        {% if budget_info.percent_year >=  0.0 and budget_info.percent_year <  0.85 %}
            <td><font color="green">${{ budget_info.remaining_year }}</font></td>
        {% else %}
            {% if budget_info.percent_year >= 0.85 and  budget_info.percent_year < 0.99 %}
                <td><font color="orange">${{ budget_info.remaining_year }}</font></td>
            {% else %}
                {% if budget_info.percent_year >= 0.99 and  budget_info.percent_year <= 1.00 %}
                    <td><font color="blue">${{ budget_info.remaining_year }}</font></td>
                {% else %}
                    <td><font color="red">${{ budget_info.remaining_year }}</font></td>
                {% endif %}
            {% endif %}
        {% endif %}
    </tr>
  {% endfor %}
</table>

<h2>Period Budgets</h2>
<table class="a">
  <tr>
    <th>Category <i>(click to edit)</i></th>
    <th>Spent Period</th>
    <th>Budgeted</th>
    <th>Remaining Period</th>
  </tr>
  {% for budget_info in period_budgets %}
    <tr>
        <td><p><button class="btnSmall select" id="{{budget_info.budget.budget_id}}" onclick="openUpdatePage(this.id)"><b><u>{{ budget_info.budget.category.name }}</u></b></button></p></td>
        <td><button class="btnSmall select" id="period#{{budget_info.budget.get_date_month_year(true)}}#{{budget_info.budget.get_date_month_year(false)}}#{{budget_info.budget.category.name}}" onclick="openPurhcasesPage(this.id)"><u>${{ budget_info.spent_so_far_period }}</u></button></td>
        <td>${{ budget_info.budget.amount }}</td>
        {% if budget_info.percent_period >=  0.0 and budget_info.percent_period <  0.85 %}
            <td><font color="green">${{ budget_info.remaining_period }}</font></td>
        {% else %}
            {% if budget_info.percent_period >= 0.85 and  budget_info.percent_period < 0.99 %}
                <td><font color="orange">${{ budget_info.remaining_period }}</font></td>
            {% else %}
                {% if budget_info.percent_period >= 0.99 and  budget_info.percent_period <= 1.00 %}
                    <td><font color="blue">${{ budget_info.remaining_period }}</font></td>
                {% else %}
                    <td><font color="red">${{ budget_info.remaining_period }}</font></td>
                {% endif %}
            {% endif %}
        {% endif %}
    </tr>
  {% endfor %}
</table>

<script src="/static/js/budgets.js"></script>

</body>
