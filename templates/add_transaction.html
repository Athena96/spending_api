<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
    <link rel="stylesheet" type="text/css" href="/static/css/add_transaction.css">
    <script type="text/javascript">
            var prefix = "{{ prefix }}"
    </script>
</head>

<body>
    <button class="btn timeline" onclick="location.href='{{prefix}}/site/timeline'">Timeline</button>
    <button class="btn summary" onclick="location.href='{{prefix}}/site/summary'">Summary</button>
    <button class="btn transactions" onclick="location.href='{{prefix}}/site/transactions'">Transactions</button>
    <button class="btn recurrences" onclick="location.href='{{prefix}}/site/recurrences'">Recurrences</button>
    <button class="btn add_transaction" onclick="location.href='{{prefix}}/site/add_transaction'">Add Transaction</button>
    <button class="btn add_recurrence" onclick="location.href='{{prefix}}/site/add_recurrence'">Add Recurrence</button>

<form>

    {% if is_duplicated == True %}

        Title: <input type="text" id="titleTextBox" name="title" value="{{transaction.title}}"><br>
        Amount: <input type="text" id="amountTextBox" name="amount" value="{{transaction.amount}}"><br>
        Payment Method: <input type="text" id="paymentMethod" name="amount" value="{{transaction.payment_method}}"><br>
        Categories: <input type="text" id="mySelectCategory" name="category" value="{{"-".join(transaction.category)}}">
        <select id="mySelectorCategory">
            {% for category in used_categories %}
                <option value="{{category}}">{{category}}</option>
            {% endfor %}
        </select><br>
        Date: <input type="text" id="dateTextBox" name="date" placeholder="2019-02-01 00:00:00" value=""><br>
        {% if transaction.txn_type.value == 2 %}
            Transaction Type (1=INCOME,2=EXPENSE): <input type="text" id="transactionTypeTextBox" name="transactionType" value="2"><br>
        {% else %}
            Transaction Type (1=INCOME,2=EXPENSE): <input type="text" id="transactionTypeTextBox" name="transactionType" value="1"><br>
        {% endif %}

        {% if transaction.description != None %}
            Description:<br>
            <textarea name="description" id="descriptionTextBox" style="width:200px; height:100px;" >{{transaction.description}}</textarea><br>
        {% else %}
            Description:<br>
            <textarea name="description" id="descriptionTextBox" style="width:200px; height:100px;" ></textarea><br>
        {% endif %}

        Passcode: <input type="text" id="passcodeTextBox" name="passcode" value=""><br>
        <button class="button" onclick="addTransaction()">Insert</button>

        <p>Click the "Insert" button to insert the transaction.</p>


    {% else %}

    {% if transaction != None %}

        Title: <input type="text" id="titleTextBoxU" name="title" value="{{transaction.title}}"><br>
        Amount: <input type="text" id="amountTextBoxU" name="amount" value="{{transaction.amount}}"><br>
        Payment Method: <input type="text" id="paymentMethodU" name="amount" value="{{transaction.payment_method}}"><br>
        Categories: <input type="text" id="mySelectCategoryU" name="category" value="{{"-".join(transaction.category)}}">
        <select id="mySelectorCategoryU">
            {% for category in used_categories %}
                <option value="{{category}}">{{category}}</option>
            {% endfor %}
        </select><br>
        Date: <input type="text" id="dateTextBoxU" name="date" value="{{transaction.date}}"><br>
        {% if transaction.txn_type.value == 2 %}
            Transaction Type (1=INCOME,2=EXPENSE): <input type="text" id="transactionTypeTextBoxU" name="transactionType" value="2"><br>
        {% else %}
            Transaction Type (1=INCOME,2=EXPENSE): <input type="text" id="transactionTypeTextBoxU" name="transactionType" value="1"><br>
        {% endif %}

        {% if transaction.description != None %}
            Description:<br>
            <textarea name="description" id="descriptionTextBoxU" style="width:200px; height:100px;" >{{transaction.description}}</textarea><br>
        {% else %}
            Description:<br>
            <textarea name="description" id="descriptionTextBoxU" style="width:200px; height:100px;" ></textarea><br>
        {% endif %}

        Passcode: <input type="text" id="passcodeTextBoxU" name="passcode" value=""><br>

        <button class="button buttonUpdate" id="{{transaction.transaction_id}}" onclick="updateTransaction(this.id)">Update</button>
        <p>Click the "Update" button to update the transaction.</p>


    {% else %}
        Title: <input type="text" id="titleTextBox" name="title" value=""><br>
        Amount: <input type="text" id="amountTextBox" name="amount" value=""><br>
        Payment Method: <input type="text" id="paymentMethod" name="amount" placeholder="cc_prime_2019_12" value=""><br>
        Category: <input type="text" id="mySelectCategory" name="category" value="">
        <select id="mySelectorCategory">
            {% for category in used_categories %}
                <option value="{{category}}">{{category}}</option>
            {% endfor %}
        </select><br>
        Date: <input type="text" id="dateTextBox" name="date" placeholder="2019-02-01 00:00:00" value=""><br>
        Transaction Type (1=INCOME,2=EXPENSE): <input type="text" id="transactionTypeTextBox" name="transactionType" value=""><br>
        Description:<br>
        <textarea name="description" id="descriptionTextBox" style="width:200px; height:100px;" ></textarea><br>
        Passcode: <input type="text" id="passcodeTextBox" name="passcode" value=""><br>
        <button class="button" onclick="addTransaction()">Insert</button>

        <p>Click the "Insert" button to insert the transaction.</p>

    {% endif %}
    {% endif %}


</form>

<script src="/static/js/addTransaction.js"></script>

</body>

</html>
