


<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<head>
    <link rel="stylesheet" type="text/css" href="/static/css/recurrences.css">
    <script type="text/javascript">
    var prefix = "{{ prefix }}"
    </script>
</head>

<body>
    <button class="btn timeline" onclick="location.href='{{prefix}}/site/timeline'">Timeline</button>
    <button class="btn summary" onclick="location.href='{{prefix}}/site/summary'">Summary</button>
    <button class="btn transactions" onclick="location.href='{{prefix}}/site/transactions'">Transactions</button>
    <button class="btn recurrences" onclick="location.href='{{prefix}}/site/recurrences'">Recurrences</button>
    <button class="btn add_transaction" onclick="location.href='{{prefix}}/site/add_transaction'">Add Transaction</button>
    <button class="btn add_recurrence" onclick="location.href='{{prefix}}/site/add_recurrence'">Add Recurrence</button>

    <p>
        <br />
    </p>

        <table class="a">

            <tr>
                <th>Name</th>
                <th>Amount</th>
                <th>Description</th>
                <th>Recurrence Type</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Days Till Repeat</th>
                <th>Day of Month</th>
                <th>Payment Method</th>
                <th>Delete</th>

            </tr>

            {% for recurrence in recurrences %}

                <tr>
                    <td><button class="btnSmall select" id="{{recurrence.recurrence_id}}" onclick="openUpdatePage(this.id)"><u>{{ recurrence.name }}</u></button></td>
                    <td>${{ recurrence.amount }}</td>
                    <td>{{ recurrence.description }}</td>
                    {% if recurrence.rec_type.value == 2 %}
                        <td>EXPENSE</td>
                    {% else %}
                        <td>INCOME</td>
                    {% endif %}
                    <td>{{ recurrence.start_date }}</td>
                    <td>{{ recurrence.end_date }}</td>
                    {% if recurrence.days_till_repeat != None %}
                        <td>{{ recurrence.days_till_repeat }}</td>
                    {% else %}
                        <td></td>
                    {% endif %}
                    {% if recurrence.day_of_month != None %}
                        <td>{{ recurrence.day_of_month }}</td>
                    {% else %}
                        <td></td>
                    {% endif %}
                    <td>{{ recurrence.payment_method }}</td>
                    <td><button class="btnSmall delete" id="{{recurrence.recurrence_id}}" onclick="deleteRecurrence(this.id)"><u>delete</u></button></td>

                </tr>

            {% endfor %}

        </table>

    <p>
        <br />
    </p>


<script src="/static/js/recurrences.js"></script>

</body>
